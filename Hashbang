function! Hashbang()
let shells = {  
        \     'sh': "bash",
        \     'tcl': "tclsh",
        \     'tk': "wish",
        \     'py': "python",
        \     'js': "node",
        \     'rb': "ruby",
        \     'pl': "perl" 
        \   }  

let extention = expand("%:e")

if has_key(shells,extention)
  let fileshell = shells[extention]
  let line =  "#! /usr/bin/env " . fileshell 
  0put = line
endif

endfunction

:autocmd BufNewFile *.* :call Hashbang()
