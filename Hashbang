function! Hashbang()
let shells = {  
        \     'sh': "bash",
        \     'tcl': "tclsh",
        \     'tk': "wish",
        \     'py': "python",
        \     'js': "node",
        \     'rb': "ruby",
        \     'pl': "perl" 
        \   }  

let extention = expand("%:e")
let fileshell = shells[extention]
let line =  "#! /usr/bin/env " . fileshell 
0put = line
endfunction

:autocmd BufNewFile *.* :call Hashbang()
